<div class="content content-about">
  <%- partial('_partial/component/page-header', {location: '关于'}) %>

  <ul class="about-list">
    <% theme.about.forEach(function(item, i){ %>
      <li class="about-item">
        <% if(item.icon) {%>
          <i class="icon <%= item.icon%> dot dot-<%= i % 5%>"></i>
        <% } else { %>
          <i class="dot dot-<%= i % 5%> "></i>
        <% }%>

        <% if(typeof item.text_value === 'object') {%>
          <% item.text_value.forEach(function(item) {%>
            <div class="text"><%= item%></div>
          <% });%>
        <% } else { %>
          <div class="text">
            <span><%= item.text_key || ''%></span>
            <% if(item.text_key) {%>
              <a target="_blank" class="text-value-url" href="<%= item.text_value_url || ''%>"><%= item.text_value || ''%></a>
            <% } else { %>
              <span><%= item.text_value || ''%></span>
            <% }%>
          </div>
        <% }%>

      </li>
    <% }) %>
  </ul>

</div>

<%
  function getPostListsDom(categories) {
    var newCategories = [];

    categories.each(function (category, i) {
      var categoryInfo = {id: i % 5, isCategoryNam: true, categoryName: category.name, count: category.posts.length};
      newCategories.push(categoryInfo);

      category.posts.forEach(function(post) {
        newCategories.push(post);
      });
    });

    var dom = '<ul class="list-post">';

    newCategories.forEach(function (post, i) {
      var patialPath = post.isCategoryNam ? '_partial/component/item-category-name' : '_partial/component/item-post';
      dom += partial(patialPath, {post: post});
    });

    dom += '</ul>';
    return dom;
  }

%>
